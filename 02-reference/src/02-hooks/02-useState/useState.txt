useState
useState es un React Hook que le permite agregar una variable de estado a su componente.

const [state, setState] = useState(initialState)

Referencia

useState(initialState)
Llame a useState en el nivel superior del componente para declarar una variable de estado.
import { useState } from 'react';

function MyComponent() {
  const [age, setAge] = useState(28);
  const [name, setName] = useState('Taylor');
  const [todos, setTodos] = useState(() => createTodos());
  // ...

La convención es nombrar variables de estado como [something, setSomething] usando la desestructuración de matrices.

Parámetros
-- initialState: el valor que desea que sea el estado inicialmente. Puede ser un valor de cualquier tipo, pero hay un comportamiento especial para las funciones. Este argumento se omite después de la representación inicial.
    --Si pasa una función como initialState, se tratará como una función inicializadora. Debe ser puro, no debe aceptar argumentos y debe devolver un valor de cualquier tipo. React llamará a su función inicializador al inicializar el componente y almacenará su valor devuelto como el estado inicial. Vea un ejemplo a continuación.

Devuelve
useState devuelve una matriz con exactamente dos valores:

El estado actual. Durante el primer renderizado, coincidirá con el initialState que ha pasado.

La función set que le permite actualizar el estado a un valor diferente y desencadenar una rerepresentación.

Advertencias
-- useState es un Hook, por lo que solo puede llamarlo en el nivel superior de su componente o en sus propios Hooks. No puedes llamarlo dentro de bucles o condiciones. Si necesita eso, extraiga un nuevo componente y mueva el estado a él.

--En el modo estricto, React llamará a la función de su inicializador dos veces para ayudarlo a encontrar impurezas accidentales. Este es un comportamiento de solo desarrollo y no afecta la producción. Si la función del inicializador es pura (como debería ser), esto no debería afectar a la lógica del componente. Se ignorará el resultado de una de las llamadas.

funciones set, como setSomething(nextState)
La función set devuelta por useState le permite actualizar el estado a un valor diferente y desencadenar una nueva representación. Puede pasar el siguiente estado directamente o una función que lo calcule a partir del estado anterior:

const [name, setName] = useState('Edward');

function handleClick() {
  setName('Taylor');
  setAge(a => a + 1);
  // ...

Parámetros
-- nextState: el valor que desea que sea el estado. Puede ser un valor de cualquier tipo, pero hay un comportamiento especial para las funciones.
    -- Si pasa una función como nextState, se tratará como una función de actualización. Debe ser puro, debe tomar el estado pendiente como su único argumento y debe devolver el siguiente estado. React pondrá su función de actualización en una cola y volverá a renderizar su componente. Durante el siguiente renderizado, React calculará el siguiente estado aplicando todos los actualizadores en cola al estado anterior. Vea un ejemplo a continuación.

Devuelve
set no tienen un valor devuelto.

Advertencias
--La función set sólo actualiza la variable de estado para el siguiente renderizado. Si lee la variable de estado después de llamar a la función set, seguirá obteniendo el valor anterior que estaba en la pantalla antes de la llamada.

--Si el nuevo valor que proporciona es idéntico al state actual, según lo determinado por una comparación Object.is, React omitirá volver a renderizar el componente y sus hijos. Esto es una optimización. Aunque en algunos casos React todavía puede necesitar llamar a su componente antes de omitir los hijos, no debería afectar su código.

--Reaccionar lotes de actualizaciones de estado. Actualiza la pantalla después de que todos los controladores de eventos se hayan ejecutado y hayan llamado a sus funciones set. Esto evita múltiples reprocesamientos durante un solo evento. En el raro caso de que necesite forzar a React a actualizar la pantalla antes, por ejemplo, para acceder al DOM, puede usar flushSync.

--Solo se permite llamar a la función set durante la representación desde el componente de representación actual. React descartará su salida e inmediatamente intentará renderizarla nuevamente con el nuevo estado. Este patrón rara vez es necesario, pero puede usarlo para almacenar información de los renders anteriores. Vea un ejemplo a continuación.

--En el modo estricto, React llamará a su función de actualización dos veces para ayudarlo a encontrar impurezas accidentales. Este es un comportamiento de solo desarrollo y no afecta la producción. Si la función del actualizador es pura (como debería ser), esto no debería afectar a la lógica del componente. Se ignorará el resultado de una de las llamadas.

Uso 
Agregar estado a un componente
Llame a useState en el nivel superior del componente para declarar una o más variables de estado.

import { useState } from 'react';

function MyComponent() {
  const [age, setAge] = useState(42);
  const [name, setName] = useState('Taylor');
  // ...

La convención es nombrar variables de estado como [something, setSomething] usando la desestructuración de matrices.

useState devuelve una matriz con exactamente dos elementos:

1. El Estado actual de esta variable de estado, establecida inicialmente en el Estado inicial usted proporcionó.
2. El set función Eso le permite cambiarlo a cualquier otro valor en respuesta a la interacción.
Para actualizar lo que está en la pantalla, llame a la función set con el siguiente estado:

function handleClick() {
  setName('Robin');
}

React almacenará el siguiente estado, renderizará su componente nuevamente con los nuevos valores y actualizará la interfaz de usuario.

Atención
Llamar a la función set no cambia el estado actual en el código que ya se está ejecutando:

function handleClick() {
  setName('Robin');
  console.log(name); // Still "Taylor"!
}

Solo afecta a lo que useState devolverá a partir del siguiente renderizado.

Uso básico

Ejemplos de estados

Ejemplo 1 de 4: Contador (número)
En este ejemplo, la variable de estado count contiene un número. Al hacer clic en el botón, se incrementa.

Ejemplo 2 de 4: Campo de texto (cadena)
En este ejemplo, la variable de estado text contiene una cadena. Cuando escribes, handleChange lee el último valor de entrada del elemento DOM de entrada del navegador, y llama a setText para actualizar el estado. Esto permite mostrar el texto actual a continuación.

Ejemplo 3 de 4: Checkbox (boolean)
En este ejemplo, la variable de estado liked contiene un booleano. Cuando haces clic en la entrada, setLiked actualiza la variable de estado liked con si la entrada de la casilla de verificación del navegador está marcada. La variable liked se utiliza para mostrar el texto debajo de la casilla de verificación.

Ejemplo 4 de 4: Formulario (dos variables)
Se puede declarar más de una variable de estado en el mismo componente. Cada variable de estado es completamente independiente.

Actualización del estado basado en el estado anterior
Supongamos que la edad es 42 age. Este controlador llama a setAge(age + 1) tres veces:

function handleClick() {
  setAge(age + 1); // setAge(42 + 1)
  setAge(age + 1); // setAge(42 + 1)
  setAge(age + 1); // setAge(42 + 1)
}

Sin embargo, después de un clic, age solo será 43 años en lugar de 45! Esto se debe a que al llamar a la función set no se actualiza la variable de estado de age en el código que ya se está ejecutando. Así que cada llamada setAge(setAge(age + 1)) se convierte en setAge(43).

Para resolver este problema, puede pasar una función de actualización a setAge en lugar del siguiente estado:

function handleClick() {
  setAge(a => a + 1); // setAge(42 => 43)
  setAge(a => a + 1); // setAge(43 => 44)
  setAge(a => a + 1); // setAge(44 => 45)
}

Aquí, a a => a + 1 es su función de actualización. Se necesita el Estado pendiente y calcula el Siguiente estado de ella.

React pone sus funciones de actualización en una cola. Luego, durante el siguiente renderizado, los llamará en el mismo orden:

1. a a => a + 1 recibirá 42 como estado pendiente y devolverá 43 como estado siguiente.
2. a a => a + 1 recibirá 43 como estado pendiente y devolverá 44 como estado siguiente.
3. a a => a + 1 recibirá 44 como estado pendiente y devolverá 45 como estado siguiente.

No hay otras actualizaciones en cola, por lo que React almacenará 45 como el estado actual al final.

Por convención, es común nombrar el argumento de estado pendiente para la primera letra del nombre de la variable de estado, como a para age. Sin embargo, también puede llamarlo como prevAge u otra cosa que encuentre más clara.

React puede llamar a sus actualizadores dos veces en el desarrollo para verificar que son puros.